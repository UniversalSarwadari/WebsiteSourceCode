/*!
 * WooCommerce Bulk Variations 2.2.0
 * Copyright 2022 Barn2 Plugins
 */
!function(e,t,a,o,n){"use strict";const i=()=>{e(".show_if_bulk_variations").toggle("variable"===e("#product-type").val()||e(".woocommerce_variation").length>0)};e("#product-type").on("change",(()=>{i()})).trigger("change"),e("#variable_product_options").on("reload",(()=>{r()})),e(`input#${o.option_variation_data}_enable`).change((t=>{e(`#${o.option_variation_data}_hide_add_to_cart_div`).toggle(!t.currentTarget.checked)})).trigger("change"),e(`#${o.option_variation_data}_override`).on("change",(t=>{e(`#${o.option_variation_data}_div`).toggle(t.currentTarget.checked)})).trigger("change"),e("select.wcbvp-attribute-selector").on("change",(t=>{const a=e(t.currentTarget);e("select.wcbvp-attribute-selector").not(a).find("option").each(((t,o)=>{e(o).prop("disabled",e(o).val()&&a.val()===e(o).val())}))})).trigger("change"),e(a).ajaxComplete(((t,a)=>{if(a.responseJSON&&a.responseJSON.data){const t=e("<div>").append(e(a.responseJSON.data.html)).find(".woocommerce_attribute").length;t&&(e("#bulk_variations_product_data .options_group").toggleClass("single-attribute",1===t),r(a.responseJSON.data.html)),i()}}));const r=t=>{const a=e("<div>").append(e(t)),n=[];a.find('input[name*="attribute_names"]').each(((t,o)=>{if("1"===a.find('input[name*="attribute_variation"]').get(t).value){const t={name:o.value,label:o.value};e(o).closest(".taxonomy").length&&(t.label=e(o).prev().text()),n.push(t)}})),n.length&&(e("select.wcbvp-attribute-selector").each(((t,a)=>{const i=e(a).val();e(a).find("option").remove().end().append(`<option>${o.choose_label}</option>`),n.forEach((t=>{let{name:o,label:n}=t;e(a).append(e("<option>",{value:o}).text(n))})),e(a).val(i)})),e("select.wcbvp-attribute-selector").trigger("change"))}}(jQuery,window,document,wcbvp_data);